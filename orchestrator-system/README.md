# ðŸš€ Dev Orchestrator System

A parallel development framework for building full-stack applications using multiple Claude Code instances with **pixel-perfect Figma replication**.

---

## Figma Source

**Document:** S'26 Dev Challenge
**URL:** https://www.figma.com/design/JRzzLjCpKp7XIHfo65SC90/S-26-Dev-Challenge
**Document ID:** `JRzzLjCpKp7XIHfo65SC90`

---

## Quick Start

### 1. Prepare Your Environment

```bash
# Create the project directory
mkdir joanie-store && cd joanie-store

# Initialize git
git init
git checkout -b main

# Add Figma MCP (required for pixel-perfect extraction)
claude mcp add --transport http figma https://mcp.figma.com/mcp
```

### 2. Phase 0 - Figma Extraction (MUST RUN FIRST)

Open **1 Claude Code window** and run:

| Window | Agent | Prompt File |
|--------|-------|-------------|
| 0 | FIGMA EXTRACTOR | `agent-prompts/AGENT_0_FIGMA_EXTRACTOR.md` |

**Wait for `.done-figma-extraction`**

This agent:
- Extracts all design tokens (colors, typography, spacing)
- Extracts all component specifications (dimensions, padding, styling)
- Exports all image assets at 2x resolution
- Generates Tailwind-compatible config
- Updates MASTER_SPEC.md with real Figma values

### 3. Phase 0 Checkpoint - Verify Extraction

```bash
# Verify all design files exist
ls -la design-system/
# Should see: tokens.json, components.json, tailwind-extend.json

# Verify all images exported
ls -la public/images/
# Should see: hero-shoe.png, shoe-1.png, shoe-2.png, etc.

# Validate JSON files
cat design-system/tokens.json | jq .
cat design-system/components.json | jq .
```

### 4. Phase 1 - Launch Foundation Agents (PARALLEL)

Open **4 Claude Code windows** simultaneously and paste these prompts:

| Window | Agent | Prompt File |
|--------|-------|-------------|
| 1 | DATABASE | `agent-prompts/AGENT_1_DATABASE.md` |
| 2 | LAYOUT | `agent-prompts/AGENT_2_LAYOUT.md` |
| 3 | COMPONENTS | `agent-prompts/AGENT_3_COMPONENTS.md` |
| 4 | EXPERIMENTAL | `agent-prompts/AGENT_4_EXPERIMENTAL.md` |

**Wait for all 4 to create `.done-*` files**

### 3. Phase 1 Checkpoint - Merge

```bash
git checkout main
git merge feature/database feature/layout feature/components feature/experimental
npm install
npm run build
```

### 4. Phase 2 - Launch Integration Agents (PARALLEL)

Open **4 more Claude Code windows**:

| Window | Agent | Prompt File |
|--------|-------|-------------|
| 5 | AUTH | `agent-prompts/AGENT_5_AUTH.md` |
| 6 | API | `agent-prompts/AGENT_6_API.md` |
| 7 | GRID | `agent-prompts/AGENT_7_GRID.md` |
| 8 | ANIMATIONS | `agent-prompts/AGENT_8_ANIMATIONS.md` |

**Wait for all 4 to create `.done-*` files**

### 5. Phase 2 Checkpoint - Final Merge

```bash
git checkout main
git merge feature/auth feature/api feature/grid feature/animations
npm run build
npm run dev
```

### 6. Deploy

```bash
# Push to GitHub
git push origin main

# Deploy to Vercel
npx vercel --prod
```

---

## File Structure

```
orchestrator-system/
â”œâ”€â”€ README.md                    # This file
â”œâ”€â”€ MASTER_SPEC.md               # Shared specification (updated by Agent 0)
â”œâ”€â”€ ORCHESTRATOR_PROMPT.md       # Full orchestration logic
â””â”€â”€ agent-prompts/
    â”œâ”€â”€ AGENT_0_FIGMA_EXTRACTOR.md  # NEW: Runs first, extracts Figma data
    â”œâ”€â”€ AGENT_1_DATABASE.md
    â”œâ”€â”€ AGENT_2_LAYOUT.md
    â”œâ”€â”€ AGENT_3_COMPONENTS.md
    â”œâ”€â”€ AGENT_4_EXPERIMENTAL.md
    â”œâ”€â”€ AGENT_5_AUTH.md
    â”œâ”€â”€ AGENT_6_API.md
    â”œâ”€â”€ AGENT_7_GRID.md
    â””â”€â”€ AGENT_8_ANIMATIONS.md

design-system/                   # Generated by Agent 0
â”œâ”€â”€ tokens.json                  # Colors, typography, spacing
â”œâ”€â”€ components.json              # Component specs with exact dimensions
â”œâ”€â”€ tailwind-extend.json         # Ready-to-merge Tailwind config
â””â”€â”€ interactions.json            # Animation specs (if available)

public/images/                   # Exported by Agent 0
â”œâ”€â”€ hero-shoe.png
â”œâ”€â”€ shoe-1.png ... shoe-N.png
â””â”€â”€ logo.svg
```

---

## Dependency Graph

```
PHASE 0 (Sequential - MUST COMPLETE FIRST)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚           FIGMA EXTRACTOR (Agent 0)                    â”‚
â”‚   - Connect to Figma MCP                               â”‚
â”‚   - Extract design tokens, component specs             â”‚
â”‚   - Export all image assets                            â”‚
â”‚   - Generate /design-system/ files                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
              CHECKPOINT 0
    (verify tokens.json, components.json, images)
                      â”‚
                      â–¼
PHASE 1 (Independent - Run in Parallel)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Database â”‚ Layout â”‚ Components â”‚ Experimental (3D)    â”‚
â”‚ (reads   â”‚ (reads â”‚ (reads     â”‚ (reads               â”‚
â”‚  design- â”‚ design-â”‚ design-    â”‚ design-              â”‚
â”‚  system) â”‚ system)â”‚ system)    â”‚ system)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
              CHECKPOINT 1
                 (merge all)
                      â”‚
                      â–¼
PHASE 2 (Some Dependencies - Run in Parallel)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Auth  â”‚   API    â”‚    Grid    â”‚    Animations        â”‚
â”‚ needs: â”‚  needs:  â”‚   needs:   â”‚      needs:          â”‚
â”‚  DB    â”‚ DB, Auth â”‚ Components â”‚   All Components     â”‚
â”‚        â”‚          â”‚  API, 3D   â”‚   interactions.json  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚
                FINAL MERGE
                      â”‚
                   DEPLOY
```

---

## Tech Stack Justification

| Technology | Why |
|------------|-----|
| **Next.js 14** | App Router, API routes, RSC, Vercel integration |
| **TypeScript** | Type safety, better DX, catch errors early |
| **Tailwind CSS** | Rapid styling, design tokens, Figma-to-code |
| **Prisma** | Type-safe ORM, migrations, auto-generated types |
| **Supabase** | PostgreSQL hosting, easy setup, generous free tier |
| **NextAuth.js** | Built for Next.js, sessions, multiple providers |
| **Framer Motion** | Declarative animations, React-native, layout animations |
| **GSAP** | Complex timelines, scroll triggers, performance |
| **Three.js** | 3D graphics, WebGL, depth effects |

---

## Interview Defense Points

When defending your design choices:

### Architecture
> "I chose Next.js App Router because it gives me server components for the product listings (better SEO, faster initial load), API routes in the same codebase (simpler deployment), and Vercel's edge network for the best performance."

### Database
> "PostgreSQL via Supabase because e-commerce has relational data - users have carts, carts have items, items reference products. Prisma gives me type-safe queries that match my TypeScript types."

### State Management
> "I kept it simple with React hooks and server state. useCart and useWishlist fetch from the API and manage local state. No need for Redux when Next.js gives us server components and the data is mostly server-driven."

### Animations
> "Framer Motion for component-level animations because it integrates cleanly with React state. GSAP for the page load sequence because it handles complex timelines better. The combination gives me both declarative simplicity and precise control."

### 3D Effect
> "The depth map parallax effect uses a displacement shader - the grayscale depth map tells the GPU how far to push each pixel on the Z-axis. Mouse tracking adds interactivity. It's a technique used in high-end portfolios to add depth to 2D images."

---

## Troubleshooting

### Agent Fails Mid-Task
1. Check the error in their terminal
2. Note which files were created successfully
3. Restart the agent with updated instructions

### Merge Conflicts
```bash
# See conflicting files
git status

# For each conflict, manually resolve or:
git checkout --theirs path/to/file  # Keep incoming
git checkout --ours path/to/file    # Keep current
```

### TypeScript Errors After Merge
```bash
# Regenerate Prisma types
npx prisma generate

# Check for missing imports
npx tsc --noEmit
```

### Build Fails
```bash
# Check for common issues
npm run lint
npx tsc --noEmit

# Clear cache and rebuild
rm -rf .next node_modules
npm install
npm run build
```

---

## Success Checklist

- [ ] All 8 agents completed their tasks
- [ ] All branches merged cleanly to main
- [ ] `npm run build` succeeds
- [ ] App runs locally on http://localhost:3000
- [ ] Products display and filter by tab
- [ ] Sign up / Sign in works
- [ ] Add to cart works (when signed in)
- [ ] Wishlist toggle works (when signed in)
- [ ] 3D hero effect renders (or fallback)
- [ ] Page load animations play
- [ ] Scroll animations trigger
- [ ] Deployed to Vercel

---

## Estimated Timeline

| Phase | Duration | Cumulative |
|-------|----------|------------|
| Setup + Phase 1 | 1 hour | 1 hour |
| Phase 1 Merge + Fix | 15 min | 1:15 |
| Phase 2 | 1 hour | 2:15 |
| Phase 2 Merge + Fix | 30 min | 2:45 |
| Testing + Polish | 30 min | 3:15 |
| Deploy + Final | 15 min | 3:30 |

**Total: ~3.5 hours** (with parallel execution)

---

Good luck! ðŸš€
